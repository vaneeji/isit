<head>
    <title>–î–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞</title>
    <link rel="stylesheet" type="text/css" href="/static/style.css">
</head>
<body>
<div class="container">
    <div class="product-detail">
        <h1>{{ product.name }}</h1>
        <img src="data:image/png;base64,{{ product.image }}" alt="{{ product.name }}">

        <div class="info-block">
            <p><strong>üí∞ –¶–µ–Ω–∞:</strong> {{ product.price }} —Ä—É–±.</p>
            <p><strong>üì¶ –í—Å–µ–≥–æ –Ω–∞ —Å–∫–ª–∞–¥–µ:</strong> {{ product.total_stock }} —à—Ç.</p>
        </div>

        {% if product.description %}
        <div class="info-block">
            <p><strong>üìù –û–ø–∏—Å–∞–Ω–∏–µ:</strong></p>
            <p style="margin-top: 1rem; line-height: 1.6;">{{ product.description }}</p>
        </div>
        {% endif %}

        <div class="product-shops">
            <h3>üè™ –î–æ—Å—Ç—É–ø–Ω–æ –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö:</h3>
            <ul>
                {% for shop in product.shops.all %}
                    <li>{{ shop.name }} - {{ shop.location }}</li>
                {% empty %}
                    <li style="color: #999; font-style: italic;">–ù–µ—Ç –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤</li>
                {% endfor %}
            </ul>
        </div>

        <div style="margin-top: 3rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
            <a
                hx-get="{% url 'edit_product_partial' product.id %}"
                hx-target="#main-content"
                hx-swap="innerHTML"
                class="button"
            >
                ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
            </a>

            <form method="post"
                  hx-post="{% url 'delete_product_partial' product.id %}"
                  hx-target="#main-content"
                  hx-swap="innerHTML"
                  hx-confirm="–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä?"
                  style="display: inline;">
                {% csrf_token %}
                <button type="submit" name="delete" class="button danger">
                    üóëÔ∏è –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä
                </button>
            </form>

            <a
                hx-get="{% url 'product_list_partial' %}"
                hx-target="#main-content"
                hx-swap="innerHTML"
                class="button"
                style="background: rgba(102, 126, 234, 0.1); color: #667eea; border: 2px solid #667eea;"
            >
                ‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É
            </a>
        </div>
    </div>
</div>
</body>